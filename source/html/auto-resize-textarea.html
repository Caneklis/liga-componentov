<!DOCTYPE html>
<html lang="ru">
<head>

  @@include("source/html/base/head.html")
  <title>Лига компонентов</title>

</head>
<body>

  <div style="display: none;">
    @@include("build/img/sprite_auto.svg")
  </div>

  <div class="wrapper">
    @@include("source/html/base/header.html")

    <main>
      <div class="container">
        <div class="component">
          <div class="component__heading">
            <h1 class="component__title">Автоизменение высоты textarea</h1>
            <a class="component__download-link btn" href="components/auto-resize-textarea.zip" download>Скачать компонент</a>
          </div>
          <div class="component__description">
            <p>Высота подстраивается под контент, но с учетом атрибута rows. Rows задает минимальную высоту, которую скрипт не переопределяет. Отсутствие атрибута rows === rows="2".</p>
            <p>В большинстве случаев вам понадобится rows="1".</p>
            <p><em>Если вы изменяете value у textarea через js - нужно повторно вызвать resizeHeight(el).</em></p>
            <h2 class="component__subtitle">Интересная деталь</h2>
            <div class="component__code-snippet">
              <pre>
                <code>
                  let realscrollHeight = el.scrollHeight;

                  if (!el.value) {
                    el.value = 0;
                    realscrollHeight = el.scrollHeight;
                    el.value = '';
                  }
                </code>
              </pre>
            </div>
            <p>Данный участок кода фиксит баг\особенность firefox\ie. В этих браузерах при отсутствующем value scrollHeight у textarea ~ на 5% меньше чем при наличии value. Возможно такое можно встретить не только у textarea.</p>
          </div>

          <h2 class="component__subtitle">Демо</h2>
          <div class="component__demo component__demo--autoresize-textarea">
            <div class="autoresize-textarea">
              <textarea name="" id="" rows="1"></textarea>
            </div>
            <div class="autoresize-textarea">
              <textarea name="" id="">Lorem ipsum dolor sit amet consectetur adipisicing elit.</textarea>
            </div>
            <div class="autoresize-textarea">
              <textarea name="" id="" rows="5"></textarea>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script src="js/vendor.min.js"></script>
  <script src="js/main.min.js"></script>
</body>
</html>
