<!DOCTYPE html>
<html lang="ru">
<head>

  @@include("source/html/base/head.html")
  <title>Лига компонентов</title>

</head>
<body>

  <div style="display: none;">
    @@include("build/img/sprite_auto.svg")
  </div>

  <div class="wrapper">
    @@include("source/html/base/header.html")

    <main>
      <div class="container">
        <div class="component">
          <div class="component__heading">
            <h1 class="component__title">Модальные окна</h1>
            <a class="component__download-link btn" href="components/modals.zip" download>Скачать компонент</a>
          </div>
          <div class="component__description">
            <h2 class="component__subtitle">Описание</h2>
            <p>Модальные окна полностью переписаны, сейчас используется делегирование как при открытии так и в самом модальном окне <em>=></em> как следствие отсутствуют проблемы с динамическим добавлением элементов: кнопок вызова и самих модальных окон</p>
            <p>В файле init-modals.js создаётся экземпляр класса Modals который записывается в переменную modals, им вы можете пользоваться по проекту при необходимости, так же он записывается в window.modals. <em>Используйте в разработке экспортируемую переменную modals, window сделан для бэкэнда</em></p>
            <p>Модальные окна состоят из следующих файлов: ios-checker.js, focus-lock.js, scroll-lock.js, modals.js, init-modals.js, и modal.scss все файлы обязательны к переносу в проект! Так же у вас в проекте должно находится два утилитарных класса для блокировки страницы:</p>
            <pre>
              <code>
                .scroll-lock-ios {
                  position: fixed;

                  overflow: hidden;
                }

                .scroll-lock {
                  overflow: hidden;
                }
              </code>
            </pre>
            <h2 class="component__subtitle">Обязательные data атрибуты</h2>
            <p><em>data-open-modal="Имя модального окна"</em> Устанавливается на кнопке вызова модального окна</p>
            <p><em>data-modal="Имя модального окна"</em> Устанавливается на модальном окне</p>
            <p><em>data-close-modal"</em> Устанавливается на элементе который должен закрыть модальное окно, по умолчанию установлен на оверлее и на кнопки закрытия, может добавлятся на любые элементы в модальном окне.</p>
            <h2 class="component__subtitle">Не обязательные data атрибуты</h2>
            <p><em>data-focus</em> Устанавливается на том элементе который при открытии модального окна должен попатсть в фокус, если не установить то в фокус попадёт первый интерактивный элемент в модальном окне. Данный data атрибут не относится к модулю модальных окон, он относится к модулю блокировки фокуса внутри модального окна</p>
            <h2 class="component__subtitle">Настройки</h2>
            <p>При создании экземпляра класса передаются настройки в формате ключ - "Имя модального окна" значение - обьект</p>
            <p>По умолчанию работаю настройки по умолчанию</p>
            <p><em>preventDefault</em> Отмена действия по умолчанию, по умолчанию true</p>
            <p><em>stopPlay</em> Остановка проигрывание стандартных HTML элементов video и audio, по умолчанию true</p>
            <p><em>lockFocus</em> Блокировка фокуса внутри модального окна, по умолчанию true</p>
            <p><em>enableScrollTimeout</em> Таймаут при разблокировке скрола при закрытии, по умолчанию 500мс</p>
            <p><em>openCallback</em> Callback при открытии, по умолчанию false</p>
            <p><em>closeCallback</em> Callback при закрытии, по умолчанию false</p>
            <pre>
              <code>
                const settings = {
                  'default': {
                    preventDefault: true,
                    stopPlay: true,
                    lockFocus: true,
                    eventTimeout: 600,
                    enableScrollTimeout: 500,
                    openCallback: false,
                    closeCallback: false,
                  },
                  // modal-1 добавлен исключительно для примера при добавлении на проект ключь и обект записанный в нём нужно удалить
                  'modal-1': {
                    openCallback: () => console.log('Я отработаю при открытии example-1'),
                    closeCallback: () => console.log('Я отработаю при закрытии example-1'),
                  },
                };
              </code>
            </pre>
          </div>
          <h2 class="component__subtitle">Демо</h2>
          <div class="component__demo">
            @@include("source/components/modals/modals.html")
        </div>
      </div>
    </main>
  </div>

  <script src="js/vendor.min.js"></script>
  <script src="js/main.min.js"></script>
</body>
</html>
