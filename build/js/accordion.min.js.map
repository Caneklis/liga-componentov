{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/accordion/js/accordions.js","webpack:///./components/accordion/js/index.js","webpack:///./components/accordion/js/init-accordion.js"],"names":["Accordions","_classCallCheck","_openHeight","_windowWidth","window","innerWidth","_documentClickHandler","bind","_windowResizeHandler","_init","_createClass","key","value","fullUpdate","document","addEventListener","evt","target","closest","preventDefault","parent","dataset","destroy","matchMedia","matches","element","classList","contains","closeAccordion","openAccordion","updateAccordionsHeight","closeAllAccordion","_this","elements","querySelectorAll","forEach","currentParent","arguments","length","undefined","content","querySelector","style","transition","maxHeight","concat","scrollHeight","setTimeout","closeElements","closeElement","openElements","openElement","_this2","innerParent","parentElement","contentElement","hasAttribute","add","remove","initAccordions","accordions"],"mappings":"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","file":"accordion.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./components/accordion/js/index.js\");\n","export class Accordions {\n  constructor() {\n    this._openHeight = 0;\n    this._windowWidth = window.innerWidth;\n    this._documentClickHandler = this._documentClickHandler.bind(this);\n    this._windowResizeHandler = this._windowResizeHandler.bind(this);\n    this._init();\n  }\n\n  _init() {\n    this.fullUpdate();\n    document.addEventListener('click', this._documentClickHandler);\n    window.addEventListener('resize', this._windowResizeHandler);\n  }\n\n  _documentClickHandler(evt) {\n    const target = evt.target;\n    if (!target.closest('[data-accordion=\"button\"]')) {\n      return;\n    }\n\n    evt.preventDefault();\n    const parent = target.closest('[data-accordion=\"parent\"]');\n\n    if (parent.dataset.destroy && !window.matchMedia(parent.dataset.destroy).matches) {\n      return;\n    }\n\n    const element = target.closest('[data-accordion=\"element\"]');\n    if (element.classList.contains('is-active')) {\n      this.closeAccordion(element);\n      return;\n    }\n    this.openAccordion(element);\n  }\n\n  _windowResizeHandler() {\n    if (this._windowWidth === window.innerWidth) {\n      return;\n    }\n    this._windowWidth = window.innerWidth;\n    this.updateAccordionsHeight();\n  }\n\n  closeAllAccordion(parent) {\n    const elements = parent.querySelectorAll('[data-accordion=\"element\"]');\n    elements.forEach((element) => {\n      const currentParent = element.closest('[data-accordion=\"parent\"]');\n      if (currentParent === parent) {\n        this.closeAccordion(element);\n      }\n    });\n  }\n\n  updateAccordionsHeight(element = null) {\n    if (element) {\n      const content = element.querySelector('[data-accordion=\"content\"]');\n      content.style.transition = 'none';\n      content.style.maxHeight = `${content.scrollHeight}px`;\n      setTimeout(() => {\n        content.style.transition = null;\n      });\n      return;\n    }\n\n    const closeElements = document.querySelectorAll('[data-accordion=\"element\"]:not(.is-active)');\n\n    closeElements.forEach((closeElement) => {\n      const parent = closeElement.closest('[data-accordion=\"parent\"]');\n      const content = closeElement.querySelector('[data-accordion=\"content\"]');\n      if (parent.dataset.destroy && !window.matchMedia(parent.dataset.destroy).matches) {\n        content.style.maxHeight = '100%';\n        return;\n      }\n      content.style.maxHeight = null;\n    });\n\n    const openElements = document.querySelectorAll('[data-accordion=\"element\"].is-active');\n    openElements.forEach((openElement) => {\n      const content = openElement.querySelector('[data-accordion=\"content\"]');\n      const parent = openElement.closest('[data-accordion=\"parent\"]');\n      if (parent.dataset.destroy && !window.matchMedia(parent.dataset.destroy).matches) {\n        content.style.maxHeight = '100%';\n        return;\n      }\n      content.style.transition = 'none';\n      content.style.maxHeight = `${content.scrollHeight}px`;\n      setTimeout(() => {\n        content.style.transition = null;\n      });\n    });\n  }\n\n  fullUpdate(parent = null, transition = false) {\n    let openElements;\n    if (parent) {\n      openElements = parent.querySelectorAll('[data-accordion=\"element\"].is-active');\n    } else {\n      openElements = document.querySelectorAll('[data-accordion=\"element\"].is-active');\n    }\n    openElements.forEach((openElement) => {\n      const innerParent = openElement.querySelector('[data-accordion=\"parent\"]');\n      if (innerParent) {\n        return;\n      }\n      this.openAccordion(openElement, transition);\n    });\n    this.updateAccordionsHeight();\n  }\n\n  openAccordion(element, transition = true) {\n    const parentElement = element.closest('[data-accordion=\"parent\"]');\n    const contentElement = element.querySelector('[data-accordion=\"content\"]');\n    this._openHeight += contentElement.scrollHeight;\n\n    if (parentElement.hasAttribute('data-single')) {\n      this.closeAllAccordion(parentElement);\n    }\n\n    element.classList.add('is-active');\n    if (transition) {\n      contentElement.style.maxHeight = `${this._openHeight}px`;\n    } else {\n      contentElement.style.transition = 'none';\n      contentElement.style.maxHeight = `${this._openHeight}px`;\n      setTimeout(() => {\n        contentElement.style.transition = null;\n      });\n    }\n\n    if (parentElement.closest('[data-accordion=\"element\"]')) {\n      this.openAccordion(parentElement.closest('[data-accordion=\"element\"]'), transition);\n      return;\n    }\n\n    this._openHeight = 0;\n  }\n\n  closeAccordion(element, transition = true) {\n    const contentElement = element.querySelector('[data-accordion=\"content\"]');\n    if (!contentElement) {\n      return;\n    }\n    element.classList.remove('is-active');\n    if (transition) {\n      contentElement.style.maxHeight = '0';\n    } else {\n      contentElement.style.transition = 'none';\n      contentElement.style.maxHeight = '0';\n      setTimeout(() => {\n        contentElement.style.transition = null;\n      });\n    }\n  }\n}\n","import {initAccordions} from './init-accordion';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  window.addEventListener('load', () => {\n    initAccordions();\n  });\n});\n","import {Accordions} from './accordions';\nlet accordions;\n\nconst initAccordions = () => {\n  accordions = new Accordions();\n  // Используйте в разработке экспортируемую переменную accordions, window сделан для бэкэнда\n  window.accordions = accordions;\n};\n\nexport {initAccordions, accordions};\n"],"sourceRoot":""}