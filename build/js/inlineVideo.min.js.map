{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/inline-video/js/index.js","webpack:///./components/inline-video/js/iphone-inline-video.js"],"names":["window","addEventListener","videos","document","querySelectorAll","forEach","video","enableInlineVideo","intervalometer","cb","request","cancel","requestParameter","requestId","previousLoopTime","loop","now","start","stop","frameIntervalometer","requestAnimationFrame","cancelAnimationFrame","preventEvent","element","eventName","test","handler","e","stopImmediatePropagation","proxyProperty","object","propertyName","sourceObject","copyFirst","get","set","value","Object","defineProperty","proxyEvent","dispatchEvent","Event","dispatchEventAsync","type","Promise","resolve","then","iOS8or9","head","style","matchMedia","matches","IIV","IIVEvent","IIVPlay","IIVPause","getAudioFromVideo","audio","Audio","crossOrigin","src","currentSrc","lastRequests","requestIndex","lastTimeupdateEvent","setTime","time","rememberOnly","Date","currentTime","isPlayerEnded","player","driver","duration","update","timeDiff","readyState","HAVE_FUTURE_DATA","hasAudio","playbackRate","networkState","NETWORK_IDLE","buffered","length","load","ended","pause","play","webkitDisplayingFullscreen","paused","updater","HAVE_ENOUGH_DATA","forceEvents","addPlayer","bind","muted","wasEmpty","autoplay","indexOf","preventWithPropOrFullscreen","el","isAllowed","overloadAPI","opts","everywhere","iPad","ipad","navigator","userAgent","willAutoplay","classList","add","restoreAutoplay","removeEventListener","platform","console","warn"],"mappings":"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","file":"inlineVideo.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./components/inline-video/js/index.js\");\n","import './iphone-inline-video';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  window.addEventListener('load', () => {\n    const videos = document.querySelectorAll('video');\n    videos.forEach((video) => window.enableInlineVideo(video));\n  });\n});\n","/*! npm.im/iphone-inline-video 2.2.2 */\nvar enableInlineVideo = (function () {\n  'use strict';\n\n  /*! npm.im/intervalometer */\n  function intervalometer(cb, request, cancel, requestParameter) {\n    var requestId;\n    var previousLoopTime;\n    function loop(now) {\n      // must be requested before cb() because that might call .stop()\n      requestId = request(loop, requestParameter);\n\n      // called with \"ms since last call\". 0 on start()\n      cb(now - (previousLoopTime || now));\n\n      previousLoopTime = now;\n    }\n    return {\n      start: function start() {\n        if (!requestId) {\n          // prevent double starts\n          loop(0);\n        }\n      },\n      stop: function stop() {\n        cancel(requestId);\n        requestId = null;\n        previousLoopTime = 0;\n      },\n    };\n  }\n\n  function frameIntervalometer(cb) {\n    return intervalometer(cb, requestAnimationFrame, cancelAnimationFrame);\n  }\n\n  function preventEvent(element, eventName, test) {\n    function handler(e) {\n      if (!test || test(element, eventName)) {\n        e.stopImmediatePropagation();\n        // // console.log(eventName, 'prevented on', element);\n      }\n    }\n    element.addEventListener(eventName, handler);\n\n    // Return handler to allow to disable the prevention. Usage:\n    // const preventionHandler = preventEvent(el, 'click');\n    // el.removeEventHandler('click', preventionHandler);\n    return handler;\n  }\n\n  function proxyProperty(object, propertyName, sourceObject, copyFirst) {\n    function get() {\n      return sourceObject[propertyName];\n    }\n    function set(value) {\n      sourceObject[propertyName] = value;\n    }\n\n    if (copyFirst) {\n      set(object[propertyName]);\n    }\n\n    Object.defineProperty(object, propertyName, {get: get, set: set});\n  }\n\n  function proxyEvent(object, eventName, sourceObject) {\n    sourceObject.addEventListener(eventName, function () {\n      return object.dispatchEvent(new Event(eventName));\n    });\n  }\n\n  function dispatchEventAsync(element, type) {\n    Promise.resolve().then(function () {\n      element.dispatchEvent(new Event(type));\n    });\n  }\n\n  var iOS8or9 =\n    typeof document === 'object' &&\n    'object-fit' in document.head.style &&\n    !matchMedia('(-webkit-video-playable-inline)').matches;\n\n  var IIV = 'fregante:iphone-inline-video';\n  var IIVEvent = 'fregante:iphone-inline-video:event';\n  var IIVPlay = 'fregante:iphone-inline-video:nativeplay';\n  var IIVPause = 'fregante:iphone-inline-video:nativepause';\n\n  /**\n   * UTILS\n   */\n\n  function getAudioFromVideo(video) {\n    var audio = new Audio();\n    proxyEvent(video, 'play', audio);\n    proxyEvent(video, 'playing', audio);\n    proxyEvent(video, 'pause', audio);\n    audio.crossOrigin = video.crossOrigin;\n\n    // 'data:' causes audio.networkState > 0\n    // which then allows to keep <audio> in a resumable playing state\n    // i.e. once you set a real src it will keep playing if it was if .play() was called\n    audio.src = video.src || video.currentSrc || 'data:';\n\n    // // if (audio.src === 'data:') {\n    //   TODO: wait for video to be selected\n    // // }\n    return audio;\n  }\n\n  var lastRequests = [];\n  var requestIndex = 0;\n  var lastTimeupdateEvent;\n\n  function setTime(video, time, rememberOnly) {\n    // Allow one timeupdate event every 200+ ms\n    if ((lastTimeupdateEvent || 0) + 200 < Date.now()) {\n      video[IIVEvent] = true;\n      lastTimeupdateEvent = Date.now();\n    }\n    if (!rememberOnly) {\n      video.currentTime = time;\n    }\n    lastRequests[++requestIndex % 3] = (time * 100) | (0 / 100);\n  }\n\n  function isPlayerEnded(player) {\n    return player.driver.currentTime >= player.video.duration;\n  }\n\n  function update(timeDiff) {\n    var player = this;\n    // // console.log('update', player.video.readyState, player.video.networkState, player.driver.readyState, player.driver.networkState, player.driver.paused);\n    if (player.video.readyState >= player.video.HAVE_FUTURE_DATA) {\n      if (!player.hasAudio) {\n        player.driver.currentTime = player.video.currentTime + (timeDiff * player.video.playbackRate) / 1000;\n        if (player.video.loop && isPlayerEnded(player)) {\n          player.driver.currentTime = 0;\n        }\n      }\n      setTime(player.video, player.driver.currentTime);\n    } else if (player.video.networkState === player.video.NETWORK_IDLE && player.video.buffered.length === 0) {\n      // This should happen when the source is available but:\n      // - it's potentially playing (.paused === false)\n      // - it's not ready to play\n      // - it's not loading\n      // If it hasAudio, that will be loaded in the 'emptied' handler below\n      player.video.load();\n      // // console.log('Will load');\n    }\n\n    // // console.assert(player.video.currentTime === player.driver.currentTime, 'Video not updating!');\n\n    if (player.video.ended) {\n      delete player.video[IIVEvent]; // Allow timeupdate event\n      player.video.pause(true);\n    }\n  }\n\n  /**\n   * METHODS\n   */\n\n  function play() {\n    // // console.log('play');\n    var video = this;\n    var player = video[IIV];\n\n    // If it's fullscreen, use the native player\n    if (video.webkitDisplayingFullscreen) {\n      video[IIVPlay]();\n      return;\n    }\n\n    if (player.driver.src !== 'data:' && player.driver.src !== video.src) {\n      // // console.log('src changed on play', video.src);\n      setTime(video, 0, true);\n      player.driver.src = video.src;\n    }\n\n    if (!video.paused) {\n      return;\n    }\n    player.paused = false;\n\n    if (video.buffered.length === 0) {\n      // .load() causes the emptied event\n      // the alternative is .play()+.pause() but that triggers play/pause events, even worse\n      // possibly the alternative is preventing this event only once\n      video.load();\n    }\n\n    player.driver.play();\n    player.updater.start();\n\n    if (!player.hasAudio) {\n      dispatchEventAsync(video, 'play');\n      if (player.video.readyState >= player.video.HAVE_ENOUGH_DATA) {\n        // // console.log('onplay');\n        dispatchEventAsync(video, 'playing');\n      }\n    }\n  }\n  function pause(forceEvents) {\n    // // console.log('pause');\n    var video = this;\n    var player = video[IIV];\n\n    player.driver.pause();\n    player.updater.stop();\n\n    // If it's fullscreen, the developer the native player.pause()\n    // This is at the end of pause() because it also\n    // needs to make sure that the simulation is paused\n    if (video.webkitDisplayingFullscreen) {\n      video[IIVPause]();\n    }\n\n    if (player.paused && !forceEvents) {\n      return;\n    }\n\n    player.paused = true;\n    if (!player.hasAudio) {\n      dispatchEventAsync(video, 'pause');\n    }\n\n    // Handle the 'ended' event only if it's not fullscreen\n    if (video.ended && !video.webkitDisplayingFullscreen) {\n      video[IIVEvent] = true;\n      dispatchEventAsync(video, 'ended');\n    }\n  }\n\n  /**\n   * SETUP\n   */\n\n  function addPlayer(video, hasAudio) {\n    var player = {};\n    video[IIV] = player;\n    player.paused = true; // Track whether 'pause' events have been fired\n    player.hasAudio = hasAudio;\n    player.video = video;\n    player.updater = frameIntervalometer(update.bind(player));\n\n    if (hasAudio) {\n      player.driver = getAudioFromVideo(video);\n    } else {\n      video.addEventListener('canplay', function () {\n        if (!video.paused) {\n          // // console.log('oncanplay');\n          dispatchEventAsync(video, 'playing');\n        }\n      });\n      player.driver = {\n        src: video.src || video.currentSrc || 'data:',\n        muted: true,\n        paused: true,\n        pause: function () {\n          player.driver.paused = true;\n        },\n        play: function () {\n          player.driver.paused = false;\n          // Media automatically goes to 0 if .play() is called when it's done\n          if (isPlayerEnded(player)) {\n            setTime(video, 0);\n          }\n        },\n        get ended() {\n          return isPlayerEnded(player);\n        },\n      };\n    }\n\n    // .load() causes the emptied event\n    video.addEventListener(\n      'emptied',\n      function () {\n        // // console.log('driver src is', player.driver.src);\n        var wasEmpty = !player.driver.src || player.driver.src === 'data:';\n        if (player.driver.src && player.driver.src !== video.src) {\n          // // console.log('src changed to', video.src);\n          setTime(video, 0, true);\n          player.driver.src = video.src;\n          // Playing videos will only keep playing if no src was present when .play()’ed\n          if (wasEmpty || (!hasAudio && video.autoplay)) {\n            player.driver.play();\n          } else {\n            player.updater.stop();\n          }\n        }\n      },\n      false,\n    );\n\n    // Stop programmatic player when OS takes over\n    video.addEventListener('webkitbeginfullscreen', function () {\n      if (!video.paused) {\n        // Make sure that the <audio> and the syncer/updater are stopped\n        video.pause();\n\n        // Play video natively\n        video[IIVPlay]();\n      } else if (hasAudio && player.driver.buffered.length === 0) {\n        // If the first play is native,\n        // the <audio> needs to be buffered manually\n        // so when the fullscreen ends, it can be set to the same current time\n        player.driver.load();\n      }\n    });\n    if (hasAudio) {\n      video.addEventListener('webkitendfullscreen', function () {\n        // Sync audio to new video position\n        player.driver.currentTime = video.currentTime;\n        // // console.assert(player.driver.currentTime === video.currentTime, 'Audio not synced');\n      });\n\n      // Allow seeking\n      video.addEventListener('seeking', function () {\n        if (lastRequests.indexOf((video.currentTime * 100) | (0 / 100)) < 0) {\n          // // console.log('User-requested seeking');\n          player.driver.currentTime = video.currentTime;\n        }\n      });\n    }\n  }\n\n  function preventWithPropOrFullscreen(el) {\n    var isAllowed = el[IIVEvent];\n    delete el[IIVEvent];\n    return !el.webkitDisplayingFullscreen && !isAllowed;\n  }\n\n  function overloadAPI(video) {\n    var player = video[IIV];\n    video[IIVPlay] = video.play;\n    video[IIVPause] = video.pause;\n    video.play = play;\n    video.pause = pause;\n    proxyProperty(video, 'paused', player.driver);\n    proxyProperty(video, 'muted', player.driver, true);\n    proxyProperty(video, 'playbackRate', player.driver, true);\n    proxyProperty(video, 'ended', player.driver);\n    proxyProperty(video, 'loop', player.driver, true);\n\n    // IIV works by seeking 60 times per second.\n    // These events are now useless.\n    preventEvent(video, 'seeking', function (el) {\n      return !el.webkitDisplayingFullscreen;\n    });\n    preventEvent(video, 'seeked', function (el) {\n      return !el.webkitDisplayingFullscreen;\n    });\n\n    // Limit timeupdate events\n    preventEvent(video, 'timeupdate', preventWithPropOrFullscreen);\n\n    // Prevent occasional native ended events\n    preventEvent(video, 'ended', preventWithPropOrFullscreen);\n  }\n\n  function enableInlineVideo(video, opts) {\n    if (opts === void 0) opts = {};\n\n    // Stop if already enabled\n    if (video[IIV]) {\n      return;\n    }\n\n    // Allow the user to skip detection\n    if (!opts.everywhere) {\n      // Only iOS8 and 9 are supported\n      if (!iOS8or9) {\n        return;\n      }\n\n      // Stop if it's not an allowed device\n      if (!(opts.iPad || opts.ipad ? /iPhone|iPod|iPad/ : /iPhone|iPod/).test(navigator.userAgent)) {\n        return;\n      }\n    }\n\n    // Try to pause\n    video.pause();\n\n    // Prevent autoplay.\n    // An non-started autoplaying video can't be .pause()'d\n    var willAutoplay = video.autoplay;\n    video.autoplay = false;\n\n    addPlayer(video, !video.muted);\n    overloadAPI(video);\n    video.classList.add('IIV');\n\n    // Autoplay\n    if (video.muted && willAutoplay) {\n      video.play();\n      video.addEventListener('playing', function restoreAutoplay() {\n        video.autoplay = true;\n        video.removeEventListener('playing', restoreAutoplay);\n      });\n    }\n\n    if (!/iPhone|iPod|iPad/.test(navigator.platform)) {\n      console.warn('iphone-inline-video is not guaranteed to work in emulated environments');\n    }\n  }\n\n  window.enableInlineVideo = enableInlineVideo;\n})();\n"],"sourceRoot":""}