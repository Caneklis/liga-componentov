{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/input-file/js/create-message-markup.js","webpack:///./components/input-file/js/create-preview-container-markup.js","webpack:///./components/input-file/js/create-preview-markup.js","webpack:///./components/input-file/js/helper.js","webpack:///./components/input-file/js/index.js","webpack:///./components/input-file/js/init-upload.js","webpack:///./components/input-file/js/render.js","webpack:///./components/input-file/js/upload.js"],"names":["createMessageMarkup","message","concat","createPreviewContainerMarkup","createPreviewMarkup","file","event","options","error","nameArray","name","split","expansion","length","hasErrorClass","previewImg","target","result","iconFormat","default","fileInfo","fileName","fileSize","bytesToSize","size","sizes","bytes","index","parseInt","Math","floor","log","round","pow","window","addEventListener","uploadImage","uploadFile","uploadImageDrop","uploadFileDrop","uploadFileDropPreview","uploadImageBlock","document","querySelector","uploadIFileBlock","uploadImageDropBlock","uploadFileDropBlock","uploadFileDropPreviewBlock","Upload","uploadLength","dropZone","preview","maxFileSize","accept","png","jpg","jpeg","webp","emptyMessage","errorMessage","maxFullSize","xlsx","docx","pdf","createElement","template","newElement","innerHTML","firstChild","renderElement","container","component","place","arguments","undefined","before","prepend","append","after","uploadBlock","_classCallCheck","_uploadBlock","_options","_formParent","closest","_maxFileSize","_maxFullSize","_dropZone","_renderPreview","_uploadLength","_accept","_emptyMessage","_errorMessage","_successMessage","successMessage","_input","_dropZoneBlock","_previewBlock","_files","_message","_onDropZoneBlockDragover","bind","_onDropZoneBlockDragenter","_onDropZoneBlockDragleave","_onDropZoneBlockDrop","_onDropZoneBlockClick","_onInputChange","_onPreviewBlockClick","_onFormParentReset","_onFormParentSubmit","_init","_createClass","key","value","_overwriteFileList","dataTransfer","DataTransfer","forEach","items","add","files","_changeDropZoneBlock","classList","remove","_checkAccept","flag","item","endsWith","_renderMessage","_renderFiles","_this","filter","_checkFullSize","fileSizeError","reader","FileReader","readerEvent","readAsDataURL","array","fullSize","reset","querySelectorAll","dataset","parentElement","fullSizeError","click","preventDefault","contains","_toConsumableArray","slice","setAttribute"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAO,IAAMA,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,OAAO;EAAA,+CAAAC,MAAA,CAA2CD,OAAO;AAAA,CAAQ,C;;;;;;;;;;;;ACArG;AAAA;AAAO,IAAME,4BAA4B,GAAG,SAA/BA,4BAA4BA,CAAA;EAAA,OAAS,2CAA2C;AAAA,E;;;;;;;;;;;;ACA7F;AAAA;AAAA;AAAqC;AAE9B,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,IAAI,EAAEC,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAK;EAClE,IAAMC,SAAS,GAAGJ,IAAI,CAACK,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC;EACtC,IAAMC,SAAS,GAAGH,SAAS,CAACA,SAAS,CAACI,MAAM,GAAG,CAAC,CAAC;EAEjD,IAAMC,aAAa,GAAGN,KAAK,GAAG,aAAa,GAAG,EAAE;EAEhD,iDAAAN,MAAA,CAAgDY,aAAa,4GAAAZ,MAAA,CAC+BG,IAAI,CAACK,IAAI,uCAAAR,MAAA,CACzFK,OAAO,CAACQ,UAAU,qDAAAb,MAAA,CAAkDI,KAAK,CAACU,MAAM,CAACC,MAAM,eAAAf,MAAA,CAAUG,IAAI,CAACK,IAAI,aAAS,EAAE,oBAAAR,MAAA,CACrHK,OAAO,CAACW,UAAU,sDAAAhB,MAAA,CAAmDK,OAAO,CAACW,UAAU,CAACN,SAAS,CAAC,GAAGL,OAAO,CAACW,UAAU,CAACN,SAAS,CAAC,GAAGL,OAAO,CAACW,UAAU,CAACC,OAAO,sBAAgB,EAAE,oBAAAjB,MAAA,CACjLK,OAAO,CAACa,QAAQ,yEAAAlB,MAAA,CACdK,OAAO,CAACa,QAAQ,CAACC,QAAQ,4EAAAnB,MAAA,CACvBG,IAAI,CAACK,IAAI,+BACF,EAAE,sBAAAR,MAAA,CACXK,OAAO,CAACa,QAAQ,CAACE,QAAQ,4EAAApB,MAAA,CACvBqB,2DAAW,CAAClB,IAAI,CAACmB,IAAI,CAAC,+BACf,EAAE,4BACL,EAAE;AAExB,CAAC,C;;;;;;;;;;;;ACrBD;AAAA;AAAA,IAAMC,KAAK,GAAG,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;AAExC,IAAMF,WAAW,GAAG,SAAdA,WAAWA,CAAIG,KAAK,EAAK;EACpC,IAAI,CAACA,KAAK,EAAE;IACV,OAAO,QAAQ;EACjB;EACA,IAAMC,KAAK,GAAGC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,GAAG,CAACL,KAAK,CAAC,GAAGG,IAAI,CAACE,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC;EACxE,UAAA7B,MAAA,CAAU2B,IAAI,CAACG,KAAK,CAACN,KAAK,GAAGG,IAAI,CAACI,GAAG,CAAC,IAAI,EAAEN,KAAK,CAAC,CAAC,OAAAzB,MAAA,CAAIuB,KAAK,CAACE,KAAK,CAAC;AACrE,CAAC,C;;;;;;;;;;;;ACRD;AAAA;AAA8G;AAE9GO,MAAM,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAM;EAChDD,MAAM,CAACC,gBAAgB,CAAC,MAAM,EAAE,YAAM;IACpCC,gEAAW,CAAC,CAAC;IACbC,+DAAU,CAAC,CAAC;IACZC,oEAAe,CAAC,CAAC;IACjBC,mEAAc,CAAC,CAAC;IAChBC,0EAAqB,CAAC,CAAC;EACzB,CAAC,CAAC;AACJ,CAAC,CAAC,C;;;;;;;;;;;;ACVF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmC;AAEnC,IAAMC,gBAAgB,GAAGC,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC;AACtE,IAAMC,gBAAgB,GAAGF,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;AACvE,IAAME,oBAAoB,GAAGH,QAAQ,CAACC,aAAa,CAAC,0BAA0B,CAAC;AAC/E,IAAMG,mBAAmB,GAAGJ,QAAQ,CAACC,aAAa,CAAC,2BAA2B,CAAC;AAC/E,IAAMI,0BAA0B,GAAGL,QAAQ,CAACC,aAAa,CAAC,mCAAmC,CAAC;AAEvF,IAAMP,WAAW,GAAG,SAAdA,WAAWA,CAAA;EAAA,OAAS,IAAIY,iDAAM,CAACP,gBAAgB,EAAE;IAC5DQ,YAAY,EAAE,CAAC;IACfC,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE,IAAI;IACbpC,UAAU,EAAE,IAAI;IAChBqC,WAAW,EAAE,OAAO;IACpBC,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC;IAC1CnC,UAAU,EAAE;MACVoC,GAAG,EAAE,8BAA8B;MACnCC,GAAG,EAAE,8BAA8B;MACnCC,IAAI,EAAE,8BAA8B;MACpCC,IAAI,EAAE,+BAA+B;MACrCtC,OAAO,EAAE;IACX,CAAC;IACDC,QAAQ,EAAE;MACRC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE;IACZ,CAAC;IACDoC,YAAY,EAAE,8BAA8B;IAC5CC,YAAY,EAAE;EAChB,CAAC,CAAC;AAAA;AAGK,IAAMtB,UAAU,GAAG,SAAbA,UAAUA,CAAA;EAAA,OAAS,IAAIW,iDAAM,CAACJ,gBAAgB,EAAE;IAC3DK,YAAY,EAAE,CAAC;IACfE,OAAO,EAAE,IAAI;IACbS,WAAW,EAAE,OAAO;IACpBP,MAAM,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC;IAClCnC,UAAU,EAAE;MACV2C,IAAI,EAAE,+BAA+B;MACrCC,IAAI,EAAE,+BAA+B;MACrCC,GAAG,EAAE,8BAA8B;MACnC5C,OAAO,EAAE;IACX,CAAC;IACDC,QAAQ,EAAE;MACRC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE;IACZ,CAAC;IACDoC,YAAY,EAAE,8BAA8B;IAC5CC,YAAY,EAAE;EAChB,CAAC,CAAC;AAAA;AAEK,IAAMrB,eAAe,GAAG,SAAlBA,eAAeA,CAAA;EAAA,OAAS,IAAIU,iDAAM,CAACH,oBAAoB,EAAE;IACpEI,YAAY,EAAE,CAAC;IACfC,QAAQ,EAAE,IAAI;IACdnC,UAAU,EAAE,IAAI;IAChBqC,WAAW,EAAE,OAAO;IACpBC,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC;IAC1CnC,UAAU,EAAE;MACVoC,GAAG,EAAE,8BAA8B;MACnCC,GAAG,EAAE,8BAA8B;MACnCC,IAAI,EAAE,8BAA8B;MACpCC,IAAI,EAAE,+BAA+B;MACrCtC,OAAO,EAAE;IACX,CAAC;IACDC,QAAQ,EAAE;MACRC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE;IACZ,CAAC;IACDoC,YAAY,EAAE,8BAA8B;IAC5CC,YAAY,EAAE;EAChB,CAAC,CAAC;AAAA;AAEK,IAAMpB,cAAc,GAAG,SAAjBA,cAAcA,CAAA;EAAA,OAAS,IAAIS,iDAAM,CAACF,mBAAmB,EAAE;IAClEG,YAAY,EAAE,CAAC;IACfC,QAAQ,EAAE,IAAI;IACdE,WAAW,EAAE,OAAO;IACpBC,MAAM,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC;IAClCnC,UAAU,EAAE;MACV2C,IAAI,EAAE,+BAA+B;MACrCC,IAAI,EAAE,+BAA+B;MACrCC,GAAG,EAAE,8BAA8B;MACnC5C,OAAO,EAAE;IACX,CAAC;IACDC,QAAQ,EAAE;MACRC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE;IACZ,CAAC;IACDoC,YAAY,EAAE,8BAA8B;IAC5CC,YAAY,EAAE;EAChB,CAAC,CAAC;AAAA;AAEK,IAAMnB,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAA;EAAA,OAAS,IAAIQ,iDAAM,CAACD,0BAA0B,EAAE;IAChFE,YAAY,EAAE,CAAC;IACfC,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE,IAAI;IACbC,WAAW,EAAE,OAAO;IACpBC,MAAM,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC;IAClCnC,UAAU,EAAE;MACV2C,IAAI,EAAE,+BAA+B;MACrCC,IAAI,EAAE,+BAA+B;MACrCC,GAAG,EAAE,8BAA8B;MACnC5C,OAAO,EAAE;IACX,CAAC;IACDC,QAAQ,EAAE;MACRC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE;IACZ,CAAC;IACDoC,YAAY,EAAE,8BAA8B;IAC5CC,YAAY,EAAE;EAChB,CAAC,CAAC;AAAA,E;;;;;;;;;;;;AC5GF;AAAA;AAAA;AAAO,IAAMK,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,QAAQ,EAAK;EACzC,IAAMC,UAAU,GAAGxB,QAAQ,CAACsB,aAAa,CAAC,KAAK,CAAC;EAEhDE,UAAU,CAACC,SAAS,GAAGF,QAAQ;EAE/B,OAAOC,UAAU,CAACE,UAAU;AAC9B,CAAC;AAEM,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,SAAS,EAAEC,SAAS,EAA0B;EAAA,IAAxBC,KAAK,GAAAC,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,WAAW;EACrE,QAAQD,KAAK;IACX,KAAK,aAAa;MAChBF,SAAS,CAACK,MAAM,CAACJ,SAAS,CAAC;MAC3B;IACF,KAAK,YAAY;MACfD,SAAS,CAACM,OAAO,CAACL,SAAS,CAAC;MAC5B;IACF,KAAK,WAAW;MACdD,SAAS,CAACO,MAAM,CAACN,SAAS,CAAC;MAC3B;IACF,KAAK,UAAU;MACbD,SAAS,CAACQ,KAAK,CAACP,SAAS,CAAC;MAC1B;EACJ;AACF,CAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBqD;AACyB;AACnB;AACA;AAErD,IAAMvB,MAAM;EACjB,SAAAA,OAAY+B,WAAW,EAAgB;IAAA,IAAdxE,OAAO,GAAAkE,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC,CAAC;IAAAO,eAAA,OAAAhC,MAAA;IACnC,IAAI,CAACiC,YAAY,GAAGF,WAAW;IAC/B,IAAI,CAAC,IAAI,CAACE,YAAY,EAAE;MACtB;IACF;IACA,IAAI,CAACC,QAAQ,GAAG3E,OAAO;IACvB,IAAI,CAAC4E,WAAW,GAAG,IAAI,CAACF,YAAY,CAACG,OAAO,CAAC,MAAM,CAAC;IACpD,IAAI,CAACC,YAAY,GAAG,IAAI,CAACH,QAAQ,CAAC9B,WAAW,GAAG,IAAI,CAAC8B,QAAQ,CAAC9B,WAAW,GAAG,KAAK;IACjF,IAAI,CAACkC,YAAY,GAAG,IAAI,CAACJ,QAAQ,CAACtB,WAAW,GAAG,IAAI,CAACsB,QAAQ,CAACtB,WAAW,GAAG,KAAK;IACjF,IAAI,CAAC2B,SAAS,GAAG,IAAI,CAACL,QAAQ,CAAChC,QAAQ,GAAG,IAAI,CAACgC,QAAQ,CAAChC,QAAQ,GAAG,KAAK;IACxE,IAAI,CAACsC,cAAc,GAAG,IAAI,CAACN,QAAQ,CAAC/B,OAAO,GAAG,IAAI,CAAC+B,QAAQ,CAAC/B,OAAO,GAAG,KAAK;IAC3E,IAAI,CAACsC,aAAa,GAAG,IAAI,CAACP,QAAQ,CAACjC,YAAY,GAAG,IAAI,CAACiC,QAAQ,CAACjC,YAAY,GAAG,CAAC;IAChF,IAAI,CAACyC,OAAO,GAAG,IAAI,CAACR,QAAQ,CAAC7B,MAAM,GAAG,IAAI,CAAC6B,QAAQ,CAAC7B,MAAM,GAAG,KAAK;IAClE,IAAI,CAACsC,aAAa,GAAG,IAAI,CAACT,QAAQ,CAACxB,YAAY,GAAG,IAAI,CAACwB,QAAQ,CAACxB,YAAY,GAAG,KAAK;IACpF,IAAI,CAACkC,aAAa,GAAG,IAAI,CAACV,QAAQ,CAACvB,YAAY,GAAG,IAAI,CAACuB,QAAQ,CAACvB,YAAY,GAAG,KAAK;IACpF,IAAI,CAACkC,eAAe,GAAG,IAAI,CAACX,QAAQ,CAACY,cAAc,GAAG,IAAI,CAACZ,QAAQ,CAACY,cAAc,GAAG,KAAK;IAC1F,IAAI,CAACC,MAAM,GAAG,IAAI,CAACd,YAAY,CAACtC,aAAa,CAAC,OAAO,CAAC;IACtD,IAAI,CAACqD,cAAc,GAAG,IAAI,CAACT,SAAS,GAAG,IAAI,CAACN,YAAY,CAACtC,aAAa,CAAC,kBAAkB,CAAC,GAAG,KAAK;IAClG,IAAI,CAACsD,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACC,QAAQ,GAAG,IAAI;IAEpB,IAAI,CAACC,wBAAwB,GAAG,IAAI,CAACA,wBAAwB,CAACC,IAAI,CAAC,IAAI,CAAC;IACxE,IAAI,CAACC,yBAAyB,GAAG,IAAI,CAACA,yBAAyB,CAACD,IAAI,CAAC,IAAI,CAAC;IAC1E,IAAI,CAACE,yBAAyB,GAAG,IAAI,CAACA,yBAAyB,CAACF,IAAI,CAAC,IAAI,CAAC;IAC1E,IAAI,CAACG,oBAAoB,GAAG,IAAI,CAACA,oBAAoB,CAACH,IAAI,CAAC,IAAI,CAAC;IAChE,IAAI,CAACI,qBAAqB,GAAG,IAAI,CAACA,qBAAqB,CAACJ,IAAI,CAAC,IAAI,CAAC;IAClE,IAAI,CAACK,cAAc,GAAG,IAAI,CAACA,cAAc,CAACL,IAAI,CAAC,IAAI,CAAC;IACpD,IAAI,CAACM,oBAAoB,GAAG,IAAI,CAACA,oBAAoB,CAACN,IAAI,CAAC,IAAI,CAAC;IAChE,IAAI,CAACO,kBAAkB,GAAG,IAAI,CAACA,kBAAkB,CAACP,IAAI,CAAC,IAAI,CAAC;IAC5D,IAAI,CAACQ,mBAAmB,GAAG,IAAI,CAACA,mBAAmB,CAACR,IAAI,CAAC,IAAI,CAAC;IAC9D,IAAI,CAACS,KAAK,CAAC,CAAC;EACd;EAACC,YAAA,CAAA/D,MAAA;IAAAgE,GAAA;IAAAC,KAAA,EAED,SAAAC,mBAAA,EAAqB;MACnB,IAAMC,YAAY,GAAG,IAAIC,YAAY,CAAC,CAAC;MACvC,IAAI,CAAClB,MAAM,CAACmB,OAAO,CAAC,UAAChH,IAAI;QAAA,OAAK8G,YAAY,CAACG,KAAK,CAACC,GAAG,CAAClH,IAAI,CAAC;MAAA,EAAC;MAC3D,IAAI,CAAC0F,MAAM,CAACyB,KAAK,GAAGL,YAAY,CAACK,KAAK;IACxC;EAAC;IAAAR,GAAA;IAAAC,KAAA,EAED,SAAAQ,qBAAA,EAAuB;MACrB,IAAI,IAAI,CAACvB,MAAM,CAACrF,MAAM,EAAE;QACtB,IAAI,CAACmF,cAAc,CAAC0B,SAAS,CAACH,GAAG,CAAC,WAAW,CAAC;QAC9C;MACF;MACA,IAAI,CAACvB,cAAc,CAAC0B,SAAS,CAACC,MAAM,CAAC,WAAW,CAAC;IACnD;EAAC;IAAAX,GAAA;IAAAC,KAAA,EAED,SAAAW,aAAavH,IAAI,EAAE;MACjB,IAAIwH,IAAI,GAAG,KAAK;MAChB,IAAI,CAACnC,OAAO,CAAC2B,OAAO,CAAC,UAACS,IAAI,EAAK;QAC7B,IAAIzH,IAAI,CAACK,IAAI,CAACqH,QAAQ,CAACD,IAAI,CAAC,EAAE;UAC5BD,IAAI,GAAG,IAAI;QACb;MACF,CAAC,CAAC;MACF,OAAOA,IAAI;IACb;EAAC;IAAAb,GAAA;IAAAC,KAAA,EAED,SAAAe,eAAe/H,OAAO,EAAE;MACtB,IAAI,IAAI,CAACkG,QAAQ,EAAE;QACjB,IAAI,CAACA,QAAQ,CAACwB,MAAM,CAAC,CAAC;MACxB;MACA,IAAI,CAACxB,QAAQ,GAAGnC,6DAAa,CAAChE,kFAAmB,CAACC,OAAO,CAAC,CAAC;MAC3DoE,6DAAa,CAAC,IAAI,CAACY,YAAY,EAAE,IAAI,CAACkB,QAAQ,CAAC;IACjD;EAAC;IAAAa,GAAA;IAAAC,KAAA,EAED,SAAAgB,aAAA,EAAe;MAAA,IAAAC,KAAA;MACb,IAAI1H,KAAK,GAAG,KAAK;MACjB,IAAI,IAAI,CAACkF,OAAO,EAAE;QAChB,IAAI,CAACQ,MAAM,GAAG,IAAI,CAACA,MAAM,CAACiC,MAAM,CAAC,UAAC9H,IAAI;UAAA,OAAK6H,KAAI,CAACN,YAAY,CAACvH,IAAI,CAAC;QAAA,EAAC;MACrE;MAEA,IAAI,CAAC6G,kBAAkB,CAAC,CAAC;MAEzB1G,KAAK,GAAG,IAAI,CAAC8E,YAAY,GAAG,IAAI,CAAC8C,cAAc,CAAC,IAAI,CAAClC,MAAM,CAAC,GAAG,IAAI,CAACZ,YAAY,GAAG,KAAK;MAExF,IAAI,IAAI,CAACW,aAAa,EAAE;QACtB,IAAI,CAACA,aAAa,CAAC9B,SAAS,GAAG,EAAE;MACnC;MAEA,IAAI,IAAI,CAAC6B,cAAc,EAAE;QACvB,IAAI,CAACyB,oBAAoB,CAAC,CAAC;MAC7B;MAEA,IAAI,CAACvB,MAAM,CAACmB,OAAO,CAAC,UAAChH,IAAI,EAAK;QAC5B,IAAMgI,aAAa,GAAGH,KAAI,CAAC7C,YAAY,GAAGhF,IAAI,CAACmB,IAAI,GAAG0G,KAAI,CAAC7C,YAAY,GAAG,KAAK;QAC/E,IAAIgD,aAAa,EAAE;UACjB7H,KAAK,GAAG,IAAI;QACd;QACA,IAAM8H,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;QAC/B,IAAIL,KAAI,CAACjC,aAAa,EAAE;UACtBqC,MAAM,CAACnG,gBAAgB,CAAC,MAAM,EAAE,UAACqG,WAAW,EAAK;YAC/CnE,6DAAa,CAAC6D,KAAI,CAACjC,aAAa,EAAEjC,6DAAa,CAAC5D,kFAAmB,CAACC,IAAI,EAAEmI,WAAW,EAAEN,KAAI,CAAChD,QAAQ,EAAEmD,aAAa,CAAC,CAAC,CAAC;UACxH,CAAC,CAAC;QACJ;QACAC,MAAM,CAACG,aAAa,CAACpI,IAAI,CAAC;MAC5B,CAAC,CAAC;MAEF,IAAIG,KAAK,EAAE;QACT,IAAI,CAACyE,YAAY,CAACyC,SAAS,CAACH,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,IAAI,CAAC3B,aAAa,EAAE;UACtB,IAAI,CAACoC,cAAc,CAAC,IAAI,CAACpC,aAAa,CAAC;QACzC;MACF,CAAC,MAAM;QACL,IAAI,CAACX,YAAY,CAACyC,SAAS,CAACC,MAAM,CAAC,YAAY,CAAC;QAChD,IAAI,IAAI,CAACxB,QAAQ,EAAE;UACjB,IAAI,CAACA,QAAQ,CAACwB,MAAM,CAAC,CAAC;UACtB,IAAI,CAACxB,QAAQ,GAAG,IAAI;QACtB;MACF;IACF;EAAC;IAAAa,GAAA;IAAAC,KAAA,EAED,SAAAmB,eAAeM,KAAK,EAAE;MACpB,IAAIC,QAAQ,GAAG,CAAC;MAChBD,KAAK,CAACrB,OAAO,CAAC,UAACS,IAAI,EAAK;QACtBa,QAAQ,IAAIb,IAAI,CAACtG,IAAI;MACvB,CAAC,CAAC;MACF,OAAOmH,QAAQ;IACjB;EAAC;IAAA3B,GAAA;IAAAC,KAAA,EAED,SAAA2B,MAAA,EAAQ;MACN,IAAI,CAAC3D,YAAY,CAACyC,SAAS,CAACC,MAAM,CAAC,YAAY,CAAC;MAChD,IAAI,CAAC1C,YAAY,CAACyC,SAAS,CAACC,MAAM,CAAC,UAAU,CAAC;MAC9C,IAAI,IAAI,CAAC3B,cAAc,EAAE;QACvB,IAAI,CAACA,cAAc,CAAC0B,SAAS,CAACC,MAAM,CAAC,WAAW,CAAC;MACnD;MACA,IAAI,CAAC1C,YAAY,CAAC4D,gBAAgB,CAAC,aAAa,CAAC,CAACxB,OAAO,CAAC,UAACS,IAAI;QAAA,OAAKA,IAAI,CAACJ,SAAS,CAACC,MAAM,CAAC,YAAY,CAAC;MAAA,EAAC;MACxG,IAAI,CAAC1C,YAAY,CAAC4D,gBAAgB,CAAC,WAAW,CAAC,CAACxB,OAAO,CAAC,UAACS,IAAI;QAAA,OAAKA,IAAI,CAACJ,SAAS,CAACC,MAAM,CAAC,UAAU,CAAC;MAAA,EAAC;MACpG,IAAI,CAACzB,MAAM,GAAG,EAAE;MAChB,IAAI,IAAI,CAACD,aAAa,EAAE;QACtB,IAAI,CAACA,aAAa,CAAC9B,SAAS,GAAG,EAAE;MACnC;MAEA,IAAI,IAAI,CAACgC,QAAQ,EAAE;QACjB,IAAI,CAACA,QAAQ,CAACwB,MAAM,CAAC,CAAC;QACtB,IAAI,CAACxB,QAAQ,GAAG,IAAI;MACtB;IACF;EAAC;IAAAa,GAAA;IAAAC,KAAA,EAED,SAAAL,mBAAA,EAAqB;MACnB,IAAI,CAACgC,KAAK,CAAC,CAAC;IACd;EAAC;IAAA5B,GAAA;IAAAC,KAAA,EAED,SAAAJ,oBAAA,EAAsB;MACpB,IAAI,CAAC,IAAI,CAACX,MAAM,CAACrF,MAAM,IAAI,IAAI,CAAC8E,aAAa,EAAE;QAC7C,IAAI,CAACqC,cAAc,CAAC,IAAI,CAACrC,aAAa,CAAC;MACzC;IACF;EAAC;IAAAqB,GAAA;IAAAC,KAAA,EAED,SAAAN,qBAAqBrG,KAAK,EAAE;MAC1B,IAAI,CAACA,KAAK,CAACU,MAAM,CAAC8H,OAAO,CAACzH,QAAQ,EAAE;QAClC;MACF;MAEA,IAAMX,IAAI,GAAGJ,KAAK,CAACU,MAAM,CAAC8H,OAAO,CAACzH,QAAQ;MAC1C,IAAI,CAAC6E,MAAM,GAAG,IAAI,CAACA,MAAM,CAACiC,MAAM,CAAC,UAAC9H,IAAI;QAAA,OAAKA,IAAI,CAACK,IAAI,KAAKA,IAAI;MAAA,EAAC;MAC9D,IAAI,CAACwG,kBAAkB,CAAC,CAAC;MACzB,IAAI,CAACjB,aAAa,CAACtD,aAAa,sBAAAzC,MAAA,CAAqBQ,IAAI,QAAI,CAAC,CAACqI,aAAa,CAACpB,MAAM,CAAC,CAAC;MACrF,IAAI,IAAI,CAAC3B,cAAc,EAAE;QACvB,IAAI,CAACyB,oBAAoB,CAAC,CAAC;MAC7B;MACA,IAAMuB,aAAa,GAAG,IAAI,CAAC1D,YAAY,GAAG,IAAI,CAAC8C,cAAc,CAAC,IAAI,CAAClC,MAAM,CAAC,GAAG,IAAI,CAACZ,YAAY,GAAG,KAAK;MACtG,IAAI0D,aAAa,EAAE;QACjB,IAAI,CAAC/D,YAAY,CAACyC,SAAS,CAACH,GAAG,CAAC,YAAY,CAAC;QAC7C,IAAI,IAAI,CAAC3B,aAAa,EAAE;UACtB,IAAI,CAACoC,cAAc,CAAC,IAAI,CAACpC,aAAa,CAAC;QACzC;MACF,CAAC,MAAM;QACL,IAAI,CAACX,YAAY,CAACyC,SAAS,CAACC,MAAM,CAAC,YAAY,CAAC;QAChD,IAAI,IAAI,CAACxB,QAAQ,EAAE;UACjB,IAAI,CAACA,QAAQ,CAACwB,MAAM,CAAC,CAAC;UACtB,IAAI,CAACxB,QAAQ,GAAG,IAAI;QACtB;MACF;IACF;EAAC;IAAAa,GAAA;IAAAC,KAAA,EAED,SAAAR,sBAAsBnG,KAAK,EAAE;MAC3B,IAAIA,KAAK,CAACU,MAAM,CAAC8H,OAAO,CAACzH,QAAQ,IAAIf,KAAK,CAACU,MAAM,CAACoE,OAAO,CAAC,wBAAwB,CAAC,EAAE;QACnF;MACF;MACA,IAAI,CAACW,MAAM,CAACkD,KAAK,CAAC,CAAC;IACrB;EAAC;IAAAjC,GAAA;IAAAC,KAAA,EAED,SAAAb,yBAAyB9F,KAAK,EAAE;MAC9BA,KAAK,CAAC4I,cAAc,CAAC,CAAC;MACtB,IAAI,IAAI,CAAClD,cAAc,CAAC0B,SAAS,CAACyB,QAAQ,CAAC,SAAS,CAAC,EAAE;QACrD;MACF;MACA,IAAI,CAACnD,cAAc,CAAC0B,SAAS,CAACH,GAAG,CAAC,SAAS,CAAC;IAC9C;EAAC;IAAAP,GAAA;IAAAC,KAAA,EAED,SAAAX,0BAA0BhG,KAAK,EAAE;MAC/BA,KAAK,CAAC4I,cAAc,CAAC,CAAC;MACtB,IAAI,CAAC,IAAI,CAAClD,cAAc,CAAC0B,SAAS,CAACyB,QAAQ,CAAC,SAAS,CAAC,EAAE;QACtD;MACF;MACA,IAAI,CAACnD,cAAc,CAAC0B,SAAS,CAACC,MAAM,CAAC,SAAS,CAAC;IACjD;EAAC;IAAAX,GAAA;IAAAC,KAAA,EAED,SAAAV,0BAA0BjG,KAAK,EAAE;MAC/BA,KAAK,CAAC4I,cAAc,CAAC,CAAC;MACtB,IAAI,CAAC,IAAI,CAAClD,cAAc,CAAC0B,SAAS,CAACyB,QAAQ,CAAC,SAAS,CAAC,EAAE;QACtD;MACF;MACA,IAAI,CAACnD,cAAc,CAAC0B,SAAS,CAACC,MAAM,CAAC,SAAS,CAAC;IACjD;EAAC;IAAAX,GAAA;IAAAC,KAAA,EAED,SAAAT,qBAAqBlG,KAAK,EAAE;MAC1BA,KAAK,CAAC4I,cAAc,CAAC,CAAC;MACtB,IAAI,CAAClD,cAAc,CAAC0B,SAAS,CAACC,MAAM,CAAC,SAAS,CAAC;MAC/C,IAAI,CAACrH,KAAK,CAAC6G,YAAY,CAACK,KAAK,CAAC3G,MAAM,EAAE;QACpC;MACF;MACA,IAAI,CAACqF,MAAM,GAAG,GAAAhG,MAAA,CAAAkJ,kBAAA,CAAI,IAAI,CAAClD,MAAM,GAAAkD,kBAAA,CAAK9I,KAAK,CAAC6G,YAAY,CAACK,KAAK,GAAE6B,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC5D,aAAa,CAAC;MACxF,IAAI,CAACwC,YAAY,CAAC,CAAC;IACrB;EAAC;IAAAjB,GAAA;IAAAC,KAAA,EAED,SAAAP,eAAepG,KAAK,EAAE;MACpB,IAAI,CAACA,KAAK,CAACU,MAAM,CAACwG,KAAK,CAAC3G,MAAM,EAAE;QAC9B;MACF;MAEA,IAAI,CAACqF,MAAM,GAAG,GAAAhG,MAAA,CAAAkJ,kBAAA,CAAI,IAAI,CAAClD,MAAM,GAAAkD,kBAAA,CAAK9I,KAAK,CAACU,MAAM,CAACwG,KAAK,GAAE6B,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC5D,aAAa,CAAC;MAClF,IAAI,CAACwC,YAAY,CAAC,CAAC;IACrB;EAAC;IAAAjB,GAAA;IAAAC,KAAA,EAED,SAAAH,MAAA,EAAQ;MACN,IAAI,CAACf,MAAM,CAAC5D,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACuE,cAAc,CAAC;MAE3D,IAAI,IAAI,CAACjB,aAAa,GAAG,CAAC,EAAE;QAC1B,IAAI,CAACM,MAAM,CAACuD,YAAY,CAAC,UAAU,EAAE,EAAE,CAAC;MAC1C;MAEA,IAAI,IAAI,CAAC5D,OAAO,EAAE;QAChB,IAAI,CAACK,MAAM,CAACuD,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC5D,OAAO,CAAC;MAClD;MAEA,IAAI,IAAI,CAACM,cAAc,EAAE;QACvB,IAAI,CAACC,aAAa,GAAGjC,6DAAa,CAAC7D,qGAA4B,CAAC,IAAI,CAAC+E,QAAQ,CAAC,CAAC;QAC/E,IAAI,CAACe,aAAa,CAAC9D,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACwE,oBAAoB,CAAC;QACvE,IAAI,CAACX,cAAc,CAAC7D,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAACiE,wBAAwB,CAAC;QAC/E,IAAI,CAACJ,cAAc,CAAC7D,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACmE,yBAAyB,CAAC;QACjF,IAAI,CAACN,cAAc,CAAC7D,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACoE,yBAAyB,CAAC;QACjF,IAAI,CAACP,cAAc,CAAC7D,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAACqE,oBAAoB,CAAC;QACvE,IAAI,CAACR,cAAc,CAAC7D,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACsE,qBAAqB,CAAC;QACzEpC,6DAAa,CAAC,IAAI,CAAC2B,cAAc,EAAE,IAAI,CAACC,aAAa,CAAC;MACxD;MACA,IAAI,IAAI,CAACT,cAAc,EAAE;QACvB,IAAI,CAACS,aAAa,GAAGjC,6DAAa,CAAC7D,qGAA4B,CAAC,IAAI,CAAC+E,QAAQ,CAAC,CAAC;QAC/E,IAAI,CAACe,aAAa,CAAC9D,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACwE,oBAAoB,CAAC;QACvEtC,6DAAa,CAAC,IAAI,CAACY,YAAY,EAAE,IAAI,CAACgB,aAAa,CAAC;MACtD;MAEA,IAAI,IAAI,CAACd,WAAW,EAAE;QACpB,IAAI,CAACA,WAAW,CAAChD,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACyE,kBAAkB,CAAC;QACnE,IAAI,CAACzB,WAAW,CAAChD,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC0E,mBAAmB,CAAC;MACvE;IACF;EAAC;EAAA,OAAA7D,MAAA;AAAA,I","file":"inputFile.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./components/input-file/js/index.js\");\n","export const createMessageMarkup = (message) => `<div class=\"input-upload__message\">${message}</div>`;\n","export const createPreviewContainerMarkup = () => '<div class=\"input-upload__preview\"></div>';\n","import {bytesToSize} from './helper';\n\nexport const createPreviewMarkup = (file, event, options, error) => {\n  const nameArray = file.name.split('.');\n  const expansion = nameArray[nameArray.length - 1];\n\n  const hasErrorClass = error ? ' is-invalid' : '';\n\n  return `<div class=\"input-upload__preview-item${hasErrorClass}\">\n            <button class=\"input-upload__preview-item-remove\" type=\"button\" data-file-name=\"${file.name}\">&times;</button>\n            ${options.previewImg ? `<img class=\"input-upload__preview-img\" src=\"${event.target.result}\" alt=\"${file.name}\" />` : ''}\n            ${options.iconFormat ? `<img class=\"input-upload__preview-icon\" src=\"${options.iconFormat[expansion] ? options.iconFormat[expansion] : options.iconFormat.default}\" alt=\"\" />` : ''}\n            ${options.fileInfo ? `<div class=\"input-upload__preview-file-info\"\" />\n              ${options.fileInfo.fileName ? `<span class=\"input-upload__preview-file-name\"\" />\n                ${file.name}\n              </span>` : ''}\n              ${options.fileInfo.fileSize ? `<span class=\"input-upload__preview-file-size\"\" />\n                ${bytesToSize(file.size)}\n              </span>` : ''}\n            </div>` : ''}\n          </div>`;\n};\n","const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n\nexport const bytesToSize = (bytes) => {\n  if (!bytes) {\n    return '0 Byte';\n  }\n  const index = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)), 10);\n  return `${Math.round(bytes / Math.pow(1024, index))} ${sizes[index]}`;\n};\n","import {uploadImage, uploadFile, uploadImageDrop, uploadFileDrop, uploadFileDropPreview} from './init-upload';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  window.addEventListener('load', () => {\n    uploadImage();\n    uploadFile();\n    uploadImageDrop();\n    uploadFileDrop();\n    uploadFileDropPreview();\n  });\n});\n","import {Upload} from './upload.js';\n\nconst uploadImageBlock = document.querySelector('[data-upload=\"img\"]');\nconst uploadIFileBlock = document.querySelector('[data-upload=\"file\"]');\nconst uploadImageDropBlock = document.querySelector('[data-upload=\"img-drop\"]');\nconst uploadFileDropBlock = document.querySelector('[data-upload=\"file-drop\"]');\nconst uploadFileDropPreviewBlock = document.querySelector('[data-upload=\"file-drop-preview\"]');\n\nexport const uploadImage = () => new Upload(uploadImageBlock, {\n  uploadLength: 4,\n  dropZone: true,\n  preview: true,\n  previewImg: true,\n  maxFileSize: 1048576,\n  accept: ['.png', '.jpg', '.jpeg', '.webp'],\n  iconFormat: {\n    png: './img/file/icon-file-png.png',\n    jpg: './img/file/icon-file-jpg.png',\n    jpeg: './img/file/icon-file-jpg.png',\n    webp: './img/file/icon-file-webp.png',\n    default: './img/file/icon-file-docs.png',\n  },\n  fileInfo: {\n    fileName: true,\n    fileSize: true,\n  },\n  emptyMessage: 'Добавление файла обязательно',\n  errorMessage: 'Выделенные файлы превышают максимальный размер',\n});\n\n\nexport const uploadFile = () => new Upload(uploadIFileBlock, {\n  uploadLength: 5,\n  preview: true,\n  maxFullSize: 1048576,\n  accept: ['.pdf', '.docx', '.xlsx'],\n  iconFormat: {\n    xlsx: './img/file/icon-file-xlsx.png',\n    docx: './img/file/icon-file-docx.png',\n    pdf: './img/file/icon-file-pdf.png',\n    default: './img/file/icon-file-docx.png',\n  },\n  fileInfo: {\n    fileName: true,\n    fileSize: true,\n  },\n  emptyMessage: 'Добавление файла обязательно',\n  errorMessage: 'Общий размер файлов слишком большой',\n});\n\nexport const uploadImageDrop = () => new Upload(uploadImageDropBlock, {\n  uploadLength: 4,\n  dropZone: true,\n  previewImg: true,\n  maxFileSize: 1048576,\n  accept: ['.png', '.jpg', '.jpeg', '.webp'],\n  iconFormat: {\n    png: './img/file/icon-file-png.png',\n    jpg: './img/file/icon-file-jpg.png',\n    jpeg: './img/file/icon-file-jpg.png',\n    webp: './img/file/icon-file-webp.png',\n    default: './img/file/icon-file-docs.png',\n  },\n  fileInfo: {\n    fileName: true,\n    fileSize: true,\n  },\n  emptyMessage: 'Добавление файла обязательно',\n  errorMessage: 'Выделенные файлы превышают максимальный размер',\n});\n\nexport const uploadFileDrop = () => new Upload(uploadFileDropBlock, {\n  uploadLength: 4,\n  dropZone: true,\n  maxFileSize: 1048576,\n  accept: ['.pdf', '.docx', '.xlsx'],\n  iconFormat: {\n    xlsx: './img/file/icon-file-xlsx.png',\n    docx: './img/file/icon-file-docx.png',\n    pdf: './img/file/icon-file-pdf.png',\n    default: './img/file/icon-file-docx.png',\n  },\n  fileInfo: {\n    fileName: true,\n    fileSize: true,\n  },\n  emptyMessage: 'Добавление файла обязательно',\n  errorMessage: 'Выделенные файлы превышают максимальный размер',\n});\n\nexport const uploadFileDropPreview = () => new Upload(uploadFileDropPreviewBlock, {\n  uploadLength: 4,\n  dropZone: true,\n  preview: true,\n  maxFileSize: 1048576,\n  accept: ['.pdf', '.docx', '.xlsx'],\n  iconFormat: {\n    xlsx: './img/file/icon-file-xlsx.png',\n    docx: './img/file/icon-file-docx.png',\n    pdf: './img/file/icon-file-pdf.png',\n    default: './img/file/icon-file-docx.png',\n  },\n  fileInfo: {\n    fileName: true,\n    fileSize: true,\n  },\n  emptyMessage: 'Добавление файла обязательно',\n  errorMessage: 'Выделенные файлы превышают максимальный размер',\n});\n","export const createElement = (template) => {\n  const newElement = document.createElement('div');\n\n  newElement.innerHTML = template;\n\n  return newElement.firstChild;\n};\n\nexport const renderElement = (container, component, place = 'beforeend') => {\n  switch (place) {\n    case 'beforebegin':\n      container.before(component);\n      break;\n    case 'afterbegin':\n      container.prepend(component);\n      break;\n    case 'beforeend':\n      container.append(component);\n      break;\n    case 'afterend':\n      container.after(component);\n      break;\n  }\n};\n","import {createElement, renderElement} from './render';\nimport {createPreviewContainerMarkup} from './create-preview-container-markup';\nimport {createMessageMarkup} from './create-message-markup';\nimport {createPreviewMarkup} from './create-preview-markup';\n\nexport class Upload {\n  constructor(uploadBlock, options = {}) {\n    this._uploadBlock = uploadBlock;\n    if (!this._uploadBlock) {\n      return;\n    }\n    this._options = options;\n    this._formParent = this._uploadBlock.closest('form');\n    this._maxFileSize = this._options.maxFileSize ? this._options.maxFileSize : false;\n    this._maxFullSize = this._options.maxFullSize ? this._options.maxFullSize : false;\n    this._dropZone = this._options.dropZone ? this._options.dropZone : false;\n    this._renderPreview = this._options.preview ? this._options.preview : false;\n    this._uploadLength = this._options.uploadLength ? this._options.uploadLength : 1;\n    this._accept = this._options.accept ? this._options.accept : false;\n    this._emptyMessage = this._options.emptyMessage ? this._options.emptyMessage : false;\n    this._errorMessage = this._options.errorMessage ? this._options.errorMessage : false;\n    this._successMessage = this._options.successMessage ? this._options.successMessage : false;\n    this._input = this._uploadBlock.querySelector('input');\n    this._dropZoneBlock = this._dropZone ? this._uploadBlock.querySelector('[data-drop-zone]') : false;\n    this._previewBlock = null;\n    this._files = [];\n    this._message = null;\n\n    this._onDropZoneBlockDragover = this._onDropZoneBlockDragover.bind(this);\n    this._onDropZoneBlockDragenter = this._onDropZoneBlockDragenter.bind(this);\n    this._onDropZoneBlockDragleave = this._onDropZoneBlockDragleave.bind(this);\n    this._onDropZoneBlockDrop = this._onDropZoneBlockDrop.bind(this);\n    this._onDropZoneBlockClick = this._onDropZoneBlockClick.bind(this);\n    this._onInputChange = this._onInputChange.bind(this);\n    this._onPreviewBlockClick = this._onPreviewBlockClick.bind(this);\n    this._onFormParentReset = this._onFormParentReset.bind(this);\n    this._onFormParentSubmit = this._onFormParentSubmit.bind(this);\n    this._init();\n  }\n\n  _overwriteFileList() {\n    const dataTransfer = new DataTransfer();\n    this._files.forEach((file) => dataTransfer.items.add(file));\n    this._input.files = dataTransfer.files;\n  }\n\n  _changeDropZoneBlock() {\n    if (this._files.length) {\n      this._dropZoneBlock.classList.add('not-empty');\n      return;\n    }\n    this._dropZoneBlock.classList.remove('not-empty');\n  }\n\n  _checkAccept(file) {\n    let flag = false;\n    this._accept.forEach((item) => {\n      if (file.name.endsWith(item)) {\n        flag = true;\n      }\n    });\n    return flag;\n  }\n\n  _renderMessage(message) {\n    if (this._message) {\n      this._message.remove();\n    }\n    this._message = createElement(createMessageMarkup(message));\n    renderElement(this._uploadBlock, this._message);\n  }\n\n  _renderFiles() {\n    let error = false;\n    if (this._accept) {\n      this._files = this._files.filter((file) => this._checkAccept(file));\n    }\n\n    this._overwriteFileList();\n\n    error = this._maxFullSize ? this._checkFullSize(this._files) > this._maxFullSize : false;\n\n    if (this._previewBlock) {\n      this._previewBlock.innerHTML = '';\n    }\n\n    if (this._dropZoneBlock) {\n      this._changeDropZoneBlock();\n    }\n\n    this._files.forEach((file) => {\n      const fileSizeError = this._maxFileSize ? file.size > this._maxFileSize : false;\n      if (fileSizeError) {\n        error = true;\n      }\n      const reader = new FileReader();\n      if (this._previewBlock) {\n        reader.addEventListener('load', (readerEvent) => {\n          renderElement(this._previewBlock, createElement(createPreviewMarkup(file, readerEvent, this._options, fileSizeError)));\n        });\n      }\n      reader.readAsDataURL(file);\n    });\n\n    if (error) {\n      this._uploadBlock.classList.add('is-invalid');\n      if (this._errorMessage) {\n        this._renderMessage(this._errorMessage);\n      }\n    } else {\n      this._uploadBlock.classList.remove('is-invalid');\n      if (this._message) {\n        this._message.remove();\n        this._message = null;\n      }\n    }\n  }\n\n  _checkFullSize(array) {\n    let fullSize = 0;\n    array.forEach((item) => {\n      fullSize += item.size;\n    });\n    return fullSize;\n  }\n\n  reset() {\n    this._uploadBlock.classList.remove('is-invalid');\n    this._uploadBlock.classList.remove('is-valid');\n    if (this._dropZoneBlock) {\n      this._dropZoneBlock.classList.remove('not-empty');\n    }\n    this._uploadBlock.querySelectorAll('.is-invalid').forEach((item) => item.classList.remove('is-invalid'));\n    this._uploadBlock.querySelectorAll('.is-valid').forEach((item) => item.classList.remove('is-valid'));\n    this._files = [];\n    if (this._previewBlock) {\n      this._previewBlock.innerHTML = '';\n    }\n\n    if (this._message) {\n      this._message.remove();\n      this._message = null;\n    }\n  }\n\n  _onFormParentReset() {\n    this.reset();\n  }\n\n  _onFormParentSubmit() {\n    if (!this._files.length && this._emptyMessage) {\n      this._renderMessage(this._emptyMessage);\n    }\n  }\n\n  _onPreviewBlockClick(event) {\n    if (!event.target.dataset.fileName) {\n      return;\n    }\n\n    const name = event.target.dataset.fileName;\n    this._files = this._files.filter((file) => file.name !== name);\n    this._overwriteFileList();\n    this._previewBlock.querySelector(`[data-file-name=\"${name}\"]`).parentElement.remove();\n    if (this._dropZoneBlock) {\n      this._changeDropZoneBlock();\n    }\n    const fullSizeError = this._maxFullSize ? this._checkFullSize(this._files) > this._maxFullSize : false;\n    if (fullSizeError) {\n      this._uploadBlock.classList.add('is-invalid');\n      if (this._errorMessage) {\n        this._renderMessage(this._errorMessage);\n      }\n    } else {\n      this._uploadBlock.classList.remove('is-invalid');\n      if (this._message) {\n        this._message.remove();\n        this._message = null;\n      }\n    }\n  }\n\n  _onDropZoneBlockClick(event) {\n    if (event.target.dataset.fileName || event.target.closest('.input-upload__preview')) {\n      return;\n    }\n    this._input.click();\n  }\n\n  _onDropZoneBlockDragover(event) {\n    event.preventDefault();\n    if (this._dropZoneBlock.classList.contains('is-drag')) {\n      return;\n    }\n    this._dropZoneBlock.classList.add('is-drag');\n  }\n\n  _onDropZoneBlockDragenter(event) {\n    event.preventDefault();\n    if (!this._dropZoneBlock.classList.contains('is-drag')) {\n      return;\n    }\n    this._dropZoneBlock.classList.remove('is-drag');\n  }\n\n  _onDropZoneBlockDragleave(event) {\n    event.preventDefault();\n    if (!this._dropZoneBlock.classList.contains('is-drag')) {\n      return;\n    }\n    this._dropZoneBlock.classList.remove('is-drag');\n  }\n\n  _onDropZoneBlockDrop(event) {\n    event.preventDefault();\n    this._dropZoneBlock.classList.remove('is-drag');\n    if (!event.dataTransfer.files.length) {\n      return;\n    }\n    this._files = [...this._files, ...event.dataTransfer.files].slice(0, this._uploadLength);\n    this._renderFiles();\n  }\n\n  _onInputChange(event) {\n    if (!event.target.files.length) {\n      return;\n    }\n\n    this._files = [...this._files, ...event.target.files].slice(0, this._uploadLength);\n    this._renderFiles();\n  }\n\n  _init() {\n    this._input.addEventListener('change', this._onInputChange);\n\n    if (this._uploadLength > 1) {\n      this._input.setAttribute('multiple', '');\n    }\n\n    if (this._accept) {\n      this._input.setAttribute('accept', this._accept);\n    }\n\n    if (this._dropZoneBlock) {\n      this._previewBlock = createElement(createPreviewContainerMarkup(this._options));\n      this._previewBlock.addEventListener('click', this._onPreviewBlockClick);\n      this._dropZoneBlock.addEventListener('dragover', this._onDropZoneBlockDragover);\n      this._dropZoneBlock.addEventListener('dragenter', this._onDropZoneBlockDragenter);\n      this._dropZoneBlock.addEventListener('dragleave', this._onDropZoneBlockDragleave);\n      this._dropZoneBlock.addEventListener('drop', this._onDropZoneBlockDrop);\n      this._dropZoneBlock.addEventListener('click', this._onDropZoneBlockClick);\n      renderElement(this._dropZoneBlock, this._previewBlock);\n    }\n    if (this._renderPreview) {\n      this._previewBlock = createElement(createPreviewContainerMarkup(this._options));\n      this._previewBlock.addEventListener('click', this._onPreviewBlockClick);\n      renderElement(this._uploadBlock, this._previewBlock);\n    }\n\n    if (this._formParent) {\n      this._formParent.addEventListener('reset', this._onFormParentReset);\n      this._formParent.addEventListener('submit', this._onFormParentSubmit);\n    }\n  }\n}\n"],"sourceRoot":""}